<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Компетенции</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <style>
        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: sans-serif;
            background-color: #f2f4f3;
        }

        h2, h3, h4 {
            color: #999;
            margin-bottom: 10px;
        }        

        #app {
            display: flex;           
            margin: 125px auto;            
            background-color: #fff;
            border-radius: 4px;    
            box-shadow: 0 1px 0 0 #041b260d, 0 0 0 1px #041b261a;            
            width: 1280px;
            padding: 16px;
        }       

        .left-col {
            display: flex;
            flex-direction: column;
            justify-content: space-around;
        }

        .rigth-col {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            border-left: 1px solid #e5e5e5;
        }

        /*====== Comments ======*/

        .comments {           
            width: 350px;            
            border-radius: 10px;
            overflow: auto;
            transition: 1s;
            word-wrap: break-word;
        }

        .comments small {
            color: #999;
        }

        /* .comments.collapsed {
            max-height: 8px;
            overflow: hidden;
        }        */

        /*====== Header ======*/

        header {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            border-bottom: 1px solid #e5e5e5;
        }

        .header-left {           
            min-height: 15vh;
            border-bottom: 1px solid #e5e5e5;
            padding: 0 20px;
        }

        .header-rigth {           
            min-height: 15vh;
            padding: 0 20px;
            border-bottom: 1px solid #e5e5e5;
        }

        /*====== Sections ======*/
        
        section {
            margin-bottom: 20px;
        }

        .sections-left {
            flex: 2;
            padding: 20px;
        }

        .sections-rigth {
            flex: 1;
            padding: 20px;
        }

        /*====== Navigation ======*/

        .navi-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            background-color: #cbe6fc;
            width: 100%;
            z-index: 5;
        }    
        
        .columns-wrapper {
            max-width: 1300px;
            margin: 0 auto;
            padding: 16px;            
        }

        .navi-menu {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 80px;
        }

        .search {
            display: flex;
            align-items: center;
           
        }

        /*====== Input ======*/
        
        input {
            border: none;            
            padding: 10px;
            font-size: 1.2rem;
        }
        
        input:focus-visible {
            outline-color: #92ccfc;
        }

        .input-block, 
        .input-form-block {            
            display: flex;
            align-items: center;
            justify-content: center;
        }       

        .input-box {           
            display: none;      
            width: 95%;
        }
        

        /*======== Form ============*/        
               
        .form__title-item {            
            display: flex;            
            flex-wrap: wrap;
        }

        .textarea-box,
        .form-box {
            display: flex;
            flex: 1;
            padding: 0 20px;           
        }

        .textarea-custom,
        .input-year,
        .input-course,
        .input-learning_center {
            border: 1px solid #92ccfc;
            border-radius: 5px;
            padding: 5px;
        }
        
        .year,
        .course,
        .learning_center {
            flex: 1;
            color: #999;
            font-size: 0.9rem;
        }

        .form {
            display: flex;
            flex-direction: column; 
            width: 90%;  
            margin-right: 15px; 
        }

        .second,
        .first {
            display: flex;
            flex-direction: row;
            align-items: flex-end;
            flex-wrap: wrap;            
        }       

        .label {
            color: #999;
            font-size: 0.9rem;            
        }

        .year-form,
        .course,
        .learning-center {
            display: flex;
            flex-direction: column;
            flex: 1;
            margin-bottom: 6px;
        }

        .year-form {
            max-width: 15%;
            margin-right: 20px;
        }
        
        .textarea-custom {           
            margin-right: 15px;
            width: 90%; 
            height: 60px; 
            resize: none; 
        }
        /*====== Button ======*/
                      
        .searchBtn {
            background: #3fa8fb;
            color: rgb(255, 255, 255);           
            font-size: 1.2rem;
            cursor: pointer;
            transition: 0.3s;
        }
        
        .searchBtn {  
            padding: 10px 30px;
        }
              
        .searchBtn:hover {
            background-color: #0583e7;
        }

        .plus-btn {            
            align-self: center;
            cursor: pointer;            
        }

        .plus-btn path {
            fill: #3fa8fb;
        }

        .plus-btn:hover path {
            fill: #0583e7;
        }

        
        /*======== Education =========*/

        .education {
            font-size: 1.3rem;
            font-weight: 700;
        }

        .education-faculty {
            font-size: 1.1rem;
            padding: 10px;
        }
 
        /*======= Competencies and Qualifications  ========*/

        .competencies,
        .qualifications {
            margin-bottom: 15px;
            font-size: 1.1rem;            
            display: flex;
            justify-content: space-between;           
        }
        
        .marker,
        .qualifications-year {
            padding: 0 20px;            
            align-self: center;
        }

        .qualifications-year {
            font-size: 0.9rem;
        }

        .competencies-text,
        .qualifications-text  {            
            flex: 3;
            width: 705px;            
            word-wrap: break-word;
        }
        
        .qualifications-course  {            
            font-weight: 700;
            padding-right: 15px;
        }
        
        .icon-del {
            color: #fff;
            padding: 0 20px;            
            align-self: center;
        }

        .marker:hover,
        .competencies-text:hover,
        .qualifications-text:hover, 
        .competencies-text:hover~.marker,
        .competencies-text:hover~.icon-del,
        .qualifications-text:hover~.icon-del {
            color: #777575;
            transition: 0.3s;   
        }
                     
        .icon-del:hover,
        .icon-del:hover~.competencies-text {
            color: #777575;            
            transition: 0.3s;   
            cursor: pointer;                
        }
                
        /*======= Contacts =======*/

        .contacts {
            margin-bottom: 10px;
        }
        
        .title {
            color: #999;
            font-size: 0.9rem;
        }

        /*======= Birthday =======*/

        .birthday {            
            margin: 18px 0;            
        }
        
        .age {
            padding-left: 25px;
        } 
       
        .department {
            font-size: 0.9rem;
        }
       
       
       
        /*============= Media ============*/
  
        @media screen and (max-width: 1024px) {

            #app {
                width: 944px; 
                flex-direction: column;                             
            }

            .columns-wrapper {
                flex-direction: column; 
            }
           
            .comments {
                width: 100%;
            } 

            .rigth-col {               
                border-left: 0 solid #fffdfd;
            }          
        }

        @media screen and (max-width: 768px) {

            #app {            
               width: 748px;               
            } 
        }

        @media screen and (max-width: 544px) {

            #app { 
                width: 500px; 
                margin: 190px auto 20px auto;               
            }

            .navi-menu {
                flex-direction: column;
            }

            .search {
                flex-direction: column;
            }

            .search-input {
                flex: 1;               
                margin-bottom: 5px;
            }

            .searchBtn {
                flex: 1;                
                text-align: center;
                align-self: stretch;
            }

            .columns-wrapper {                          
                height: 180px;
            }

            .first {               
                flex-direction: column; 
                align-items: stretch;
            }

            .image {
              width: 150px;
              height: auto;
          }
        }
       
    </style>
</head>

<body>
    <!-- Nav-menu -->
    <header class="navi-wrapper">
        <div class="columns-wrapper">
            <div class="navi-menu">
                <a href="" class="logo-wrapper" href="/">
                    <div class="logo-vtc"><img src="./img/icon/Лого_ВТК-С(1).png" alt="logo" class="image" /></div>
                </a>
                <div class="search">
                    <input type="search" name="text-search" class="search-input" placeholder="Может поищем что-нибудь...">
                    <div class="searchBtn" onclick="search()">Найти</div>
                </div>
            </div>
        </div>
    </header>


    <main id="app"> 
        
        <!-- Left column -->
        <div class="left-col">
            <div class="header-left">
                <div class="user-info">
                    <h1>{{fullname}}</h1>
                    <h3>{{position}}</h3>
                    <div class="department">
                        <span class="title">Департамент:</span>
                        <span class="department-text">&nbsp;{{department}}</span>
                    </div>
                    <div class="birthday">
                        <span class="title">Дата рождения:</span>
                        <span class="bithday-field"></span>&nbsp;{{birthday}}</span>
                        <span class="age">{{ age }} лет</span>
                    </div>
                </div>
            </div>
            <div class="sections-left">
                <section>
                    <h2>Образование</h2>
                    <div class="education"><!--🎓&nbsp;-->{{education}}</div>
                    <div class="education-faculty">{{faculty}}</div>
                </section>
                <section>
                    <h2>Навыки</h2>                                              
                        <div v-for="e in competentions" class="competencies">
                            <div class="marker">-</div>
                            <div class="competencies-text">{{ e }}</div>                                
                            <div class="icon-del">x</div>
                        </div>                    
                    <input-block model="competentions" />
                </section>
                <section>
                    <h2>Повышение квалификации, курсы</h2>                    
                        <div v-for="e in qualifications" class="qualifications">
                            <div class="qualifications-year">{{e.year}}</div>
                            <div class="qualifications-text">
                                <span class="qualifications-course">{{ e.learning_center }}</span>                               
                                <span>{{ e.course }}&nbsp;</span> 
                            </div>
                            <div class="icon-del">x</div>
                        </div>                    
                    <input-form-block model="qualifications" />
                </section>
            </div>

        </div>

        <!-- Rigth column -->
        <div class="rigth-col">
            <div class="header-rigth">
                <div class="user-contacts">
                    <div class="contacts"><span class="title">Служебный телефон:</span>&nbsp;1111</div>
                    <div class="contacts"><span class="title">Моб. телефон:</span>&nbsp;+7 (111) 111-11-11</div>
                    <div class="contacts"><span class="title">E-mail:</span>&nbsp;
                        <a href="mailto:vtc@vtc-service.ru" target="_blank">vtc@vtc-service.ru</a>
                    </div>
                    <div class="contacts"><span class="title">Город:</span>&nbsp;Москва</div>
                    <div class="contacts"><span class="title">Руководитель:</span>&nbsp;Иванов Иван Иванович</div>
                </div>
            </div>
            <div class="sections-rigth">
                <section class="additional-info">
                    <h3>Дополнительная информация</h3>
                    <div>
                        <span class="title"><!--🚗&nbsp;-->Личный автомобиль:</span> 
                        <span class="info-text">{{ haveCar }}</span>
                    </div>
                    <div>
                        <span class="title">Права категории:</span>
                        <span class="info-text">{{ driver_license }}</span>
                    </div>
                </section>
                <section class="comments-info">
                    <h3>Комментарии</h3>
                    <section v-if="hasCommentsPerm" class="comments collapsed" onclick="$(this).toggleClass('collapsed')">
                        <div v-for="e in comments">
                            <small>{{ e.author }}&nbsp;{{ e.date }}</small>
                            <div>&nbsp;{{ e.text }}</div>                        
                        </div>
                        <input-block model="comments" />                   
                    </section>
                </section>
            </div>
        </div>
    </main>

    <!-- Component textarea -->
    <component style="display: none;" id="input-block-tpl">
        <div class="input-block">
            <div class="input-box ">  
                <div class="textarea-box">
                    <textarea 
                        name="myText"
                        class="textarea-custom" 
                        id="textArea"                      
                        cols="20"
                        rows="3"  
                        autofocus 
                        placeholder="Введите текст..." 
                        wrap="hard"     
                        >
                    </textarea>                   
                    <span class="plus-btn" onclick="clickAdd(this)" :data-model="model" >
                        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24">
                            <path
                                d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6 13h-5v5h-2v-5h-5v-2h5v-5h2v5h5v2z" />
                        </svg>
                    </span>
                </div>
            </div>
            <div class="plus-btn" onclick="clickPlus(this);">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path
                        d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6 13h-5v5h-2v-5h-5v-2h5v-5h2v5h5v2z" />
                </svg>
            </div>
        </div>
    </component>

    <!-- Component form qualifications -->
    <component style="display: none;" id="input-form-tpl">
        <div class="input-form-block">
            <div class="input-box">
                <div class="form-box">
                    <form class="form"> 
                        <div class="first">
                            <div class="year-form">
                                <label for="year" class="label">Год окончания:</label>
                                <input id="year" type="text" class="input-year" maxlength="4" />
                            </div>   
                            <div class="learning-center">
                                <label for="lc" class="label">Учебное заведение:</label>
                                <input id="lc" type="text" class="input-learning_center" />    
                            </div>
                        </div>
                        <div class="second">
                            <div class="course">
                                <label for="course" class="label">Название курса:</label>
                                <input id="course" type="text" class="input-course" /> 
                            </div> 
                                                
                        </div>           
                    </form>                    
                    <span class="plus-btn" onclick="clickAddForm(this)" :data-model="model" >
                        <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24">
                            <path
                                d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6 13h-5v5h-2v-5h-5v-2h5v-5h2v5h5v2z" />
                        </svg>
                    </span>
                </div>
            </div>
            <span class="plus-btn" onclick="clickPlus(this)">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path
                        d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6 13h-5v5h-2v-5h-5v-2h5v-5h2v5h5v2z" />
                </svg>
            </span>
        </div>
    </component>

    <script type="text/javascript">
        function clickPlus(e) {
            $(e).hide()
            $('.input-box', e.parentElement).fadeIn()    
        }

        function clickAdd(e) {
            $(e.parentElement.parentElement).fadeOut(400, _ => $(e).closest('.input-block').find('.plus-btn').show())
            const model = $(e).data('model')
            const value = $('textarea', e.parentElement).val()
            if('comments' === model) {                
                let item = {
                    author:   'hr',
                    text: value,
                    date: new Date().toLocaleDateString()
                }
                if (item) data[model].push(item)
            } else if (value) data[model].push(value)

           
        }

        function clickAddForm(e) {
            $(e.parentElement.parentElement).fadeOut(400, _ => $(e).closest('.input-form-block').find('.plus-btn').show())
            const model = $(e).data('model')            
            const year = $('.input-year', e.parentElement).val()
            const learning_center = $('.input-learning_center', e.parentElement).val()
            const course = $('.input-course', e.parentElement).val()
            let item = {
                year,
                learning_center,
                course
            }
            if (item) data[model].push(item)
            resetForm(e)
        }

        function resetForm(form) {
            $('.form').trigger('reset')
        }

        function search() {
            console.log('Ops!!!')
        }

        const data = {
            hasCommentsPerm: true,
            input_comp: '',
            birthday: '01 декабря 1974 года',
            age: 47,
            auto: false,
            driver_license: 'B',
            department: "Административно-хозяйственный отдел",
            fullname: "Акиньшина Любовь Валерьевна",
            position: "Руководитель административно-хозяйственного отдела",
            education: "Белгородский государственный технологический университет им. В.Г. Шухова",
            faculty: "Экономика и управление на предприятии промышленности строительных материалов",

            comments: [{
                    text: 'раз коммент',
                    author: 'hr'
                },
                {
                    text: 'два коммент',
                    author: 'начальник'
                },
                {
                    text: 'три коммент',
                    author: 'ещё кто-то'
                },
            ],

            competentions: [
                'Эксплуатация и администрирование телефонной станции AVAYA, заключение договоров с ПАО МГТС. Техническое обслуживание центра,проверка работоспособности слаботочных систем.',
                'Avaya CM CCE CMS BCMS APC AES EMC',
                'Asterisk',
                'UNIX: ssh, samba, amanda, bacula, openvpn, httpd, named, sendmail, mysql, motion, ftp, mysql, firebird.',
                'Windows: Windows 2003 Server, Active Directory, remote desktop, MsSQL.Установка, настройка оборудования voip. Установка, настройка оборудования FCD IP.',
                'Поиск и устранение аварий на сети ШПД, сварка оптоволокна, снятие рефлекторам, прокладка и монтаж оптического кабеля.абота со сварочным оборудованием японского (Furukawa (Fitel), Fujikura и Sumitomo) и корейского (Inno, Swift) производства, измерительным оборудованием (Exfo, Yokogawa, JDCU, Fluke). Знание технологий 3М, Tyco, GPON и оптического СКС.'
            ],

            qualifications: [{
                    year: 2020,
                    learning_center: 'Колледж предпринимательства',
                    course: 'CISCO CCNA',
                    diploma: 'Свидетельство',
                    city: 'г. Москва'
                },
                {
                    year: 2016,                    
                    learning_center: 'Учебный центр ОАО"Инфотекс"',
                    course: 'Vipnet админстрирование',
                    diploma: 'Свидетельство',
                    city: 'г. Москва'
                },
                {
                    year: 2012,
                    learning_center: 'Специалист при МВТУ им.Баумана',
                    course: 'UNIX введение в администрирование',
                    diploma: 'Свидетельство',
                    city: 'г. Москва'
                },
                {
                    year: 2012,
                    learning_center: 'Комптек',
                    course: 'Credentialed issued in ACIS - Avaya Aura® Communication Manager and CM Messaging – Embedded (R6.x)',
                    diploma: 'Свидетельство',
                    city: 'г. Санкт-Петербург'
                },
                {
                    year: 2010,
                    text: 'Vipnet админстрирование: , ',
                    learning_center: 'Учебный центр ОАО"Инфотекс-Технолоджи"',
                    course: 'Администрирование систем гражданского шифрования',
                    diploma: 'Свидетельство',
                    city: 'г. Новосибирск'
                },
            ], 

           
            comments: [
                {
                    author: 'hr',
                    text: 'Очень сильный кандидат'
                },
                {
                    author: 'Руководитель',
                    text: 'Высокие знания в  поиске и устранении аварий на сети ШПД'
                }
            ],
           

        }


        Vue.component('input-block', {
            props: ['model'],
            template: $('#input-block-tpl').html()
        })

        Vue.component('input-form-block', {
            props: ['model'],
            template: $('#input-form-tpl').html()
        })

        const app = new Vue({
            el: '#app',
            data,
            computed: {
                haveCar: function () {
                    return this.auto  ? 'Да' : 'Нет' 
                }
            }
        })
    </script>
</body>

</html>
