<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Компетенции</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <style>
        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: sans-serif;
            background-color: #f2f4f3;
        }

        h2 {
            color: #999;
            margin-bottom: 10px;
        }

        h3 {
            color: #999;
            margin-bottom: 10px;
        }

        #app {
            display: flex;           
            margin: 15px auto;            
            background-color: #fff;
            border-radius: 4px;    
            box-shadow: 0 1px 0 0 #041b260d, 0 0 0 1px #041b261a;

            
           
            position: relative;
            width: 1280px;
            
        }
       

        .one_col {
            display: flex;
            flex-direction: column;
            justify-content: space-around;
        }

        .two_col {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            border-left: 1px solid #e5e5e5;
        }

        /*====== Comments ======*/

        .comments {
            background: #d6e0f7;
            padding: 15px;
            width: 350px;
            /* max-height: 100px;             */
            /* float: left; */
            border-radius: 10px;
            overflow: auto;
            transition: 1s;
            word-wrap: break-word;
        }

        .comments small {
            color: #999;
        }

        /* .comments.collapsed {
            max-height: 8px;
            overflow: hidden;
        }        */

        /*====== Header ======*/

        header {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            border-bottom: 1px solid #e5e5e5;
        }

        .header__left {
            /* flex: 2; */
            min-height: 15vh;
            border-bottom: 1px solid #e5e5e5;
            padding: 0 20px;
        }

        .header__rigth {
            /* flex: 1; */
            min-height: 15vh;
            padding: 0 20px;
            border-bottom: 1px solid #e5e5e5;
        }

        /*====== Sections ======*/
        
        section {
            margin-bottom: 20px;
        }

        .sections__left {
            flex: 2;
            padding: 20px;
        }

        .sections__rigth {
            flex: 1;
            padding: 20px;
        }

        /*====== Navigation ======*/

        .navi-wrapper {
            background-color: #cbe6fc;
        }

        .columns-wrapper {
            margin: 0 auto;
            /* width: 1000px; */
            padding: 16px;
            
        }

        .navi-menu {
            position: relative;
            display: flex;
            align-items: center;
            /* justify-content: space-between; */
            height: 80px;
        }

        .navi-item_search {
            display: flex;
            align-items: center;
            position: relative;
            margin-left: 500px;
            margin-right: 30px;
            white-space: nowrap;
        }

        /*====== Input ======*/
        
        input {
            border: none;
            width: 95%;
            padding: 10px;
            font-size: 1.2rem;
        }
        input:focus-visible {
            outline-color: #92ccfc;
        }
        .input-block, 
        .input-form-block {            
            display: flex;
            align-items: center;
            justify-content: center;
        }
       

        .input-box {           
            display: none;      
            
        }
        .boxSize {
            flex: 1;
            padding: 0 20px;
        }

        /*======== Form ============*/
        .frame {
            box-shadow: 0 0 6px 4px rgba(146, 204, 252, 0.5);             
            border-radius: 5px;  
            padding: 25px; 
        }
               
        .form__title-item {            
            display: flex;            
            flex-wrap: wrap;
        }

        textarea,
        .form__input-year,
        .form__input-course,
        .form__input-learning_center {
            border: 1px solid #92ccfc;
            border-radius: 5px;
            padding: 5px;
        }
        .year {
            flex: 1;
            color: #999;
            font-size: 0.9rem;
        }
        .learning_center {
            flex: 3;
            color: #999;
            font-size: 0.9rem;
        }
        .course {
            flex: 3;
            color: #999;
            font-size: 0.9rem;
        }
        .form__item {
            display: flex;           
           
        }

        .sss {
            float: left;
            margin-right: 15px;
            width: 90%; /* Ширина поля в процентах */
            height: 60px; /* Высота поля в пикселах */
            resize: none; /* Запрещаем изменять размер */
           
        }
        /*====== Button ======*/
        
        .formBtn,
        .addBtn,
        .searchBtn {
            background: #8cc9fc;
            color: rgb(255, 255, 255);           
            font-size: 1.2rem;
            cursor: pointer;
            transition: 0.3s;
        }
        .addBtn {
           padding: 10px 15px;
           margin-left: 0;
           margin-right: auto; 
           margin-top: 10px;
           float: left; 
           border-radius: 50%;    
        }
        .searchBtn {  
            padding: 10px 30px;
        }

        .formBtn {
            margin-right: 20px;
            float: right;
            margin-top: 20px;
            padding: 10px 30px;
        }

        .formBtn:hover,
        .addBtn:hover, 
        .searchBtn:hover {
            background-color: #5bb2fa;
        }

        .plus-btn {
            padding-top: 10px;
            cursor: pointer;            
        }

        .plus-btn path {
            fill: #1b66b1;
        }

        .plus-btn:hover path {
            fill: #3986e7;
        }

        
        /*======== Education =========*/
        .education {
            font-size: 1.3rem;
            font-weight: 700;
        }

        .education-faculty {
            font-size: 1.1rem;
            padding: 10px;
        }
 
        /*======= Competencies and Qualifications  ========*/

        .competencies,
        .qualifications {
            margin-bottom: 15px;
            font-size: 1.1rem;            
            display: flex;
            justify-content: space-between;
            /* cursor: pointer;             */
        }
        
        .competencies__icon,
        .qualifications__year {
            padding: 0 20px;            
            align-self: center;
        }
        .qualifications__year {
            font-size: 0.9rem;
        }
        .competencies__text,
        .qualifications__text  {            
            flex: 3;
            width: 705px;            
            word-wrap: break-word;
        }
        .qualifications__text  {            
            /* display: flex;
            flex-direction: column; */
        }
        .qualifications__course  {            
            font-weight: 700;
            padding-right: 15px;
        }
        
        .competencies__icon-del,
        .qualifications__icon-del {
            color: #fff;
            padding: 0 20px;            
            align-self: center;
        }
        .competencies__text:hover,
        .qualifications__text:hover, 
        .competencies__text:hover~.competencies__icon-del,
        .qualifications__text:hover~.qualifications__icon-del {
            color: #777575;
            transition: 0.3s;   
        }
       
        .competencies__icon-del:hover,        
        .qualifications__icon-del:hover {
            color: #777575;            
            transition: 0.3s;   
            cursor: pointer;                
        }
        
        
        /*======= Contacts =======*/
        .contacts {
            margin-bottom: 10px;
        }
        .contacts__title {
            color: #999;
            font-size: 0.9rem;
        }

        /*======= Birthday =======*/
        .birthday {
            /* font-size: 1.1rem; */
            margin-top: 15px;            
        }
        .birthday__title {
            color: #999;
            font-size: 0.9rem;
        }

        .information__title {
            color: #999;
            font-size: 0.9rem;
        }

        .new__item {
            display: flex;
        }
       

        .comments__input {
            /* width: 270px; */
            /* height: 65px; */
        }
        /*============= Media ============*/

        /* @media (max-width: 1680px) {
            #app {
                width: 1536px;
            }
            
        } */

        @media (max-width: 1280px) {
            #app {
                 width: 1136px; 
            }
            .navi-item_search {
                margin-left: 300px;
            }
            
        }

        @media (max-width: 1024px) {
            #app {
                width: 944px;
            }
            .columns-wrapper {
                flex-direction: column;
            }
            .navi-item_search {
                margin-left: 100px;
            }
           
        }
    </style>
</head>

<body>
    <div class="navi-wrapper">
        <div class="columns-wrapper">
            <div class="navi-menu">
                <a href="" class="logo-wrapper" href="/">
                    <span class="logo-vtc"><img src="./img/icon/Лого_ВТК-С(1).png" alt="logo" /></span>
                </a>
                <div class="navi-item_search">
                    <div class="search">
                        <input type="search" name="text-search" id="" placeholder="Может поищем что-нибудь...">
                        <span class="searchBtn" onclick="searchText()">Найти</span>
                    </div>
                </div>

            </div>
        </div>
    </div>


    <content id="app" class="columns-wrapper">

        <div class="one_col">
            <div class="header__left">
                <div class="user-info">
                    <h1>{{fullname}}</h1>
                    <h3>{{position}}</h3>
                    <div class="birthday"><span class="birthday__title">Дата рождения:</span> 01 декабря 1974 года</div>
                </div>
            </div>
            <div class="sections__left">
                <section>
                    <h2>Образование</h2>
                    <div class="education">
                        <!--🎓&nbsp;-->{{education}}</div>
                    <div class="education-faculty">{{faculty}}</div>
                </section>
                <section>
                    <h2>Навыки</h2>
                                              
                        <div v-for="e in competentions" class="competencies">
                            <div class="competencies__icon">-</div>
                            <div class="competencies__text">{{ e }}</div>                                
                            <div class="competencies__icon-del">x</div>
                        </div>
                    
                    <input-block model="competentions" />
                </section>
                <section>
                    <h2>Повышение квалификации, курсы</h2>
                    
                        <div v-for="e in qualifications" class="qualifications">
                            <div class="qualifications__year">{{e.year}}</div>
                            <div class="qualifications__text">
                                <span class="qualifications__course">{{ e.learning_center }}</span>
                                <!-- <span>{{ e.city }}</span><br> -->
                                <span>{{ e.course }}&nbsp;</span>                                
                                <!-- <span>{{ e.diploma }}.</span>                                 -->
                            </div>
                            <div class="qualifications__icon-del">x</div>
                        </div>
                    
                    <input-form-block model="qualifications" class="qualifications__input"/>
                </section>
            </div>

        </div>
        <div class="two_col">
            <div class="header__rigth">

                <div class="user__contacts">
                    <div class="contacts"><span class="contacts__title">Служебный телефон:</span> 1111</div>
                    <div class="contacts"><span class="contacts__title">Моб. телефон:</span> +7 (111) 111-11-11</div>
                    <div class="contacts"><span class="contacts__title">E-mail:</span>&nbsp;<a href="mailto:vtc@vtc-service.ru"
                            target="_blank">vtc@vtc-service.ru</a></div>
                    <div class="contacts"><span class="contacts__title">Город:</span> Москва</div>
                    <div class="contacts"><span class="contacts__title">Руководитель:</span> Иванов Иван Иванович</div>
                </div>


            </div>

            <div class="sections__rigth">
                <section class="additional__information">
                    <h3>Дополнительная информация</h3>
                    <div><span class="information__title">
                        <!--🚗&nbsp;-->Личный автомобиль:</span> Да
                    </div>
                    <div><span class="information__title">Права категории:</span> B</div>
                </section>
                <h3>Комментарии</h3>
                <section v-if="hasCommentsPerm" class="comments collapsed" onclick="$(this).toggleClass('collapsed')">
                    <div v-for="e in comments">
                        <small>{{ e.author }}&nbsp;{{ e.date }}</small>
                        <div>&nbsp;{{ e.text }}</div>                        
                    </div>
                    <input-block model="comments" class="comments__input" />                   
                </section>
            </div>
        </div>
    </content>

    <component style="display: none;" id="input-block-tpl">
        <div class="input-block">
            <div class="input-box boxSize">
                <!-- <div class="new__item"> -->
                    <!-- <input type="text" class="form__input/> -->
                    <textarea 
                        name=""
                        class="sss" 
                        id="textArea"                      
                        cols="20"
                        rows="3"  
                        autofocus 
                        placeholder="Введите текст..." 
                        wrap="hard"
                        
                        >
                    </textarea>
                    <div class="addBtn" onclick="clickAdd(this)" :data-model="model">+</div>
                <!-- </div> -->
            </div>
            <span class="plus-btn" onclick="clickPlus(this);">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path
                        d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6 13h-5v5h-2v-5h-5v-2h5v-5h2v5h5v2z" />
                </svg>
            </span>
        </div>
    </component>

    <!-- Form qualifications -->
    <component style="display: none;" id="input-form-tpl">
        <div class="input-form-block">
            <div class="input-box frame">
                <form class="form__item">     
                    <div class="form__title-item year">Год окончания:<input type="text" class="form__input-year" /></div>                
                    <div class="form__title-item learning_center">Учебное заведение:<input type="text" class="form__input-learning_center" /></div>
                    <!-- <div class="form__title-item">Место проведения:<input type="text" class="form__input" /></div> -->
                    <div class="form__title-item course">Специализация:<input type="text" class="form__input-course" /></div>
                    <!-- <div class="form__title-item">Подтверждающий документ:<input type="text" class="form__input" /></div> -->                                    
                    
                </form>
                <div class="formBtn" onclick="clickAddForm(this)" :data-model="model">Добавить</div>
            </div>
            <span class="plus-btn" onclick="clickPlus(this);">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path
                        d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6 13h-5v5h-2v-5h-5v-2h5v-5h2v5h5v2z" />
                </svg>
            </span>
        </div>
    </component>

    <script type="text/javascript">
        function clickPlus(e) {
            $(e).hide()
            $('.input-box', e.parentElement).fadeIn()    
        }

        function clickAdd(e) {
            $(e.parentElement).fadeOut(400, _ => $(e).closest('.input-block').find('.plus-btn').show())
            const model = $(e).data('model')
            const value = $('textarea', e.parentElement).val()
            if('comments' === model) {                
                let item = {
                    author:   'hr',
                    text: value,
                    date: new Date().toLocaleDateString()
                }
                if (item) data[model].push(item)
            } else if (value) data[model].push(value)

           
        }

        function clickAddForm(e) {
            $(e.parentElement).fadeOut(400, _ => $(e).closest('.input-form-block').find('.plus-btn').show())
            const model = $(e).data('model')            
            const year = $('.form__input-year', e.parentElement).val()
            const learning_center = $('.form__input-learning_center', e.parentElement).val()
            const course = $('.form__input-course', e.parentElement).val()
            let item = {
                year,
                learning_center,
                course
            }
            if (item) data[model].push(item)
            resetForm(e)
        }

        function resetForm(form) {
            $('.form__item').trigger('reset')
        }


        const data = {
            hasCommentsPerm: true,
            input_comp: '',

            fullname: "Акиньшина Любовь Валерьевна",
            position: "Руководитель административно-хозяйственного отдела",
            education: "Белгородский государственный технологический университет им. В.Г. Шухова",
            faculty: "Экономика и управление на предприятии промышленности строительных материалов",

            comments: [{
                    text: 'раз коммент',
                    author: 'hr'
                },
                {
                    text: 'два коммент',
                    author: 'начальник'
                },
                {
                    text: 'три коммент',
                    author: 'ещё кто-то'
                },
            ],

            competentions: [
                'Эксплуатация и администрирование телефонной станции AVAYA, заключение договоров с ПАО МГТС. Техническое обслуживание центра,проверка работоспособности слаботочных систем.',
                'Avaya CM CCE CMS BCMS APC AES EMC',
                'Asterisk',
                'UNIX: ssh, samba, amanda, bacula, openvpn, httpd, named, sendmail, mysql, motion, ftp, mysql, firebird.',
                'Windows: Windows 2003 Server, Active Directory, remote desktop, MsSQL.Установка, настройка оборудования voip. Установка, настройка оборудования FCD IP.',
                'Поиск и устранение аварий на сети ШПД, сварка оптоволокна, снятие рефлекторам, прокладка и монтаж оптического кабеля.абота со сварочным оборудованием японского (Furukawa (Fitel), Fujikura и Sumitomo) и корейского (Inno, Swift) производства, измерительным оборудованием (Exfo, Yokogawa, JDCU, Fluke). Знание технологий 3М, Tyco, GPON и оптического СКС.'
            ],

            qualifications: [{
                    year: 2020,
                    learning_center: 'Колледж предпринимательства',
                    course: 'CISCO CCNA',
                    diploma: 'Свидетельство',
                    city: 'г. Москва'
                },
                {
                    year: 2016,                    
                    learning_center: 'Учебный центр ОАО"Инфотекс"',
                    course: 'Vipnet админстрирование',
                    diploma: 'Свидетельство',
                    city: 'г. Москва'
                },
                {
                    year: 2012,
                    learning_center: 'Специалист при МВТУ им.Баумана',
                    course: 'UNIX введение в администрирование',
                    diploma: 'Свидетельство',
                    city: 'г. Москва'
                },
                {
                    year: 2012,
                    learning_center: 'Комптек',
                    course: 'Credentialed issued in ACIS - Avaya Aura® Communication Manager and CM Messaging – Embedded (R6.x)',
                    diploma: 'Свидетельство',
                    city: 'г. Санкт-Петербург'
                },
                {
                    year: 2010,
                    text: 'Vipnet админстрирование: , ',
                    learning_center: 'Учебный центр ОАО"Инфотекс-Технолоджи"',
                    course: 'Администрирование систем гражданского шифрования',
                    diploma: 'Свидетельство',
                    city: 'г. Новосибирск'
                },
            ], 

           
            comments: [
                {
                    author: 'hr',
                    text: 'Очень сильный кандидат'
                },
                {
                    author: 'Руководитель',
                    text: 'Высокие знания в  поиске и устранении аварий на сети ШПД'
                }
            ],
           

        }


        Vue.component('input-block', {
            props: ['model'],
            template: $('#input-block-tpl').html()
        })

        Vue.component('input-form-block', {
            props: ['model'],
            template: $('#input-form-tpl').html()
        })

        const app = new Vue({
            el: '#app',
            data
        })
    </script>
</body>

</html>
